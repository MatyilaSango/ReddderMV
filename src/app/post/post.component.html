<ion-card class="relative min-h-96 bg-black flex items-center">
  <video (loadeddata)="handleElementOnLoaded($event)" (click)="handlePlay()" class="w-full" *ngIf="post._type === 'video'" alt="" [poster]="post.thumbnail">
    <source [src]="post.link" type="video/mp4">
  </video>
  <img class="w-full" *ngIf="post._type === 'image'" alt="" [src]="post.link" />
  <img class="w-full" *ngIf="post._type === 'gif'" alt="" [src]="post.thumbnail" (load)="handleElementOnLoaded($event)" (click)="handlePlay()"/>
  <div class="absolute bottom-0 left-0 w-full pointer-events-none">
    <div class="w-full flex justify-end">
      <div class="w-8 grid grid-cols-1 gap-3 justify-center pointer-events-auto">
        <app-action-button iconName="thumbs-up" iconSize="small" [text]="post.ups" />
        <app-action-button iconName="thumbs-down" iconSize="small" [text]="post.downs"/>
        <app-action-button iconName="bookmark" iconSize="small" (click)="bookmarkPost()"/>
      </div>
    </div>
    <div class="w-full bg-gradient-to-t from-black to-transparent p-2 pt-0">
      <div class="text-white flex items-center pointer-events-auto">
        <ion-icon name="person-circle" size="small" />
        <span class="font-medium text-sm ">
          {{post.author}}
        </span>
      </div>
      <p class="text-xs">
        {{post.title}}
      </p>
    </div>
  </div>
  <div *ngIf="post._type === 'video' || post._type === 'gif'" (click)="handlePlay()" [class.playing]="playing" class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-14 h-14">
    <app-action-button iconName="play-circle" iconSize="large" />
  </div>
  <app-action-button *ngIf="post._type === 'video'" (click)="handleVideoAudioMute()" [iconName]="volumeIconName" iconSize="large" class="absolute top-2 left-2 size-5" />
</ion-card>